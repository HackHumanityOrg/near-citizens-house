# ==============================================================================
# MONOREPO STRUCTURE NOTE
# ==============================================================================
# This is a pnpm workspace monorepo with:
#   - apps/verified-accounts  - Identity verification app (port 3000)
#   - apps/citizens-house     - DAO governance app (port 3001)
#   - packages/ui             - Shared UI components
#   - packages/shared         - Shared utilities and integrations
#
# All environment variables are shared across apps from this root .env file.
# ==============================================================================

# ==============================================================================
# NEAR CITIZENS HOUSE - Environment Configuration Example
# ==============================================================================
# Copy this file to .env and fill in your actual values
# cp .env.example .env

# ------------------------------------------------------------------------------
# NEAR Network Configuration (Frontend - Public)
# ------------------------------------------------------------------------------
# Network: testnet or mainnet
NEXT_PUBLIC_NEAR_NETWORK=testnet

# NEAR RPC endpoint for blockchain interactions
# Testnet: https://rpc.testnet.near.org
# Mainnet: https://rpc.mainnet.near.org
NEXT_PUBLIC_NEAR_RPC_URL=https://rpc.testnet.near.org

# Verification Contract ID (identity verification contract)
# Example: verification-v1.your-account.testnet
NEXT_PUBLIC_NEAR_VERIFICATION_CONTRACT=verification-v1.your-account.testnet

# Governance Contract ID (used for creating proposals and voting)
# This is needed by the frontend for client-side transaction signing
NEXT_PUBLIC_NEAR_GOVERNANCE_CONTRACT=governance-v1.your-account.testnet

# Sputnik DAO and Bridge
NEXT_PUBLIC_SPUTNIK_DAO_CONTRACT=sputnik-dao-v1.your-account.testnet
NEXT_PUBLIC_NEAR_BRIDGE_CONTRACT=sputnik-bridge-v1.your-account.testnet

# App URLs (for cross-app navigation links)
# These are used for "Get Verified" buttons and other cross-app links
NEXT_PUBLIC_VERIFICATION_APP_URL=https://verification.houseofstake.dev
NEXT_PUBLIC_CITIZENS_HOUSE_APP_URL=https://citizenshouse.houseofstake.dev

# ------------------------------------------------------------------------------
# NEAR Backend Wallet (Server-Side Only)
# ------------------------------------------------------------------------------
# ⚠️ CRITICAL: These must NEVER be exposed to the client!
# Only the backend wallet can write to the verification contract

# Backend wallet that has write access to the verification contract
# This wallet must be set as backend_wallet during contract initialization
NEAR_ACCOUNT_ID=your-backend-wallet.testnet

# Backend wallet private key (ed25519 format)
# Get this from NEAR CLI or your wallet export
# Format: ed25519:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
NEAR_PRIVATE_KEY=ed25519:YOUR_PRIVATE_KEY_HERE

# ------------------------------------------------------------------------------
# Self.xyz Configuration (Identity Verification)
# ------------------------------------------------------------------------------
# Self.xyz network for identity verification (INDEPENDENT from NEAR network)
#
# "mainnet" = Real passports with OFAC sanctions checks
#   - Requires real passport scan via Self mobile app
#   - OFAC sanctions list is checked (only available on mainnet)
#   - Uses Celo mainnet for ZK proof verification
#
# "testnet" = Mock passports for testing (NO OFAC checks)
#   - Uses Self.xyz demo/mock passports
#   - No OFAC sanctions checking (not available on testnet)
#   - Uses Celo Alfajores testnet for ZK proof verification
#
# IMPORTANT: OFAC checks ONLY work on mainnet because the OFAC sanctions data
# is only published on the mainnet verifier contracts.
#
# Recommended configurations:
#   Development: NEAR testnet + Self mainnet (real passports with OFAC)
#   Testing:     NEAR testnet + Self testnet (mock passports, no OFAC)
#   Production:  NEAR mainnet + Self mainnet (real passports with OFAC)
NEXT_PUBLIC_SELF_NETWORK=mainnet

# Celo RPC endpoints for ZK proof verification (Self.xyz verifier contracts on Celo)
# The system automatically rotates through multiple free public RPC endpoints for high reliability
#
# Built-in endpoints (used by default, based on NEXT_PUBLIC_SELF_NETWORK):
#   Mainnet: 1rpc.io, ankr.com, forno.celo.org, blastapi.io, allthatnode.com
#   Testnet: alfajores-forno.celo-testnet.org
#
# Optional: Override with comma-separated custom endpoints
# Example: CELO_RPC_URLS=https://rpc1.example.com,https://rpc2.example.com
# Leave commented to use built-in endpoints with automatic failover
# CELO_RPC_URLS=https://1rpc.io/celo,https://rpc.ankr.com/celo,https://forno.celo.org

# ==============================================================================
# Security Notes
# ==============================================================================
# - NEVER commit .env with real private keys to version control
# - .env is in .gitignore by default
# - Use Vercel environment variables or similar for production secrets
# - NEAR_PRIVATE_KEY should ONLY exist in server environment (Vercel secrets)
# - Backend wallet is the ONLY account authorized to write to the verification contract
# - Anyone can read from both contracts (verification status checks are public)
# - Governance transactions are signed by users with their own wallets
# ==============================================================================

# ------------------------------------------------------------------------------
# UserJot Configuration (Feedback Widget)
# ------------------------------------------------------------------------------
# UserJot project ID for feedback collection widget
# Get this from your UserJot dashboard at https://userjot.com
# Leave empty to disable the feedback widget
NEXT_PUBLIC_USERJOT_PROJECT_ID=

# ==============================================================================
# Deployment Checklist
# ==============================================================================
# Before deploying to production:
#
# 1. Contract Deployment:
#    - Deploy contracts: pnpm build:contracts:all
#    - Initialize verification contract with backend wallet
#    - Initialize governance contract with verification contract address
#    - Fund backend wallet with at least 1 NEAR for gas fees
#
# 2. Environment Variables:
#    - Set NEXT_PUBLIC_NEAR_NETWORK=mainnet for production
#    - Set NEXT_PUBLIC_SELF_NETWORK=mainnet for real passports with OFAC
#    - Set all environment variables in Vercel/hosting dashboard
#
# 3. Network Configuration:
#    - NEAR and Self.xyz networks are INDEPENDENT
#    - You can use NEAR testnet + Self mainnet for development with real passports
#    - OFAC sanctions checks ONLY work with Self mainnet
#
# 4. Security:
#    - Never expose NEAR_PRIVATE_KEY to client
#    - Rotate keys if accidentally committed
#    - Use Vercel environment variables for secrets
#
# ==============================================================================
