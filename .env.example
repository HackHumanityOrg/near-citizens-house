# ==============================================================================
# MONOREPO STRUCTURE NOTE
# ==============================================================================
# This is a pnpm workspace monorepo with:
#   - apps/citizens-house     - Main app (verification + governance) (port 3000)
#   - packages/ui             - Shared UI components
#   - packages/shared         - Shared utilities and integrations
#
# All environment variables are shared from this root .env file.
# ==============================================================================

# ==============================================================================
# NEAR CITIZENS HOUSE - Environment Configuration Example
# ==============================================================================
# Copy this file to .env and fill in your actual values
# cp .env.example .env

# ------------------------------------------------------------------------------
# NEAR Network Configuration (Frontend - Public)
# ------------------------------------------------------------------------------
# Network: testnet or mainnet
NEXT_PUBLIC_NEAR_NETWORK=testnet

# ------------------------------------------------------------------------------
# NEAR RPC Configuration (Server-Side)
# ------------------------------------------------------------------------------
# Default RPC: FastNEAR (reliable, high performance)
#   Testnet: https://rpc.testnet.fastnear.com
#   Mainnet: https://rpc.mainnet.fastnear.com
#
# FastNEAR is the only supported RPC endpoint.
# FastNEAR API key (X-API-Key header) - optional, for higher rate limits
FASTNEAR_API_KEY=

# Verification Contract ID (identity verification contract)
# Example: verification-v1.your-account.testnet
NEXT_PUBLIC_NEAR_VERIFICATION_CONTRACT=verification-v1.your-account.testnet

# App URL (used for Self.xyz callback URLs)
NEXT_PUBLIC_APP_URL=https://citizenshouse.houseofstake.dev

# ------------------------------------------------------------------------------
# NEAR Backend Wallet (Server-Side Only)
# ------------------------------------------------------------------------------
# ⚠️ CRITICAL: These must NEVER be exposed to the client!
# Only the backend wallet can write to the verification contract

# Backend wallet that has write access to the verification contract
# This wallet must be set as backend_wallet during contract initialization
NEAR_ACCOUNT_ID=your-backend-wallet.testnet

# Backend wallet private key (ed25519 format)
# Get this from NEAR CLI or your wallet export
# Format: ed25519:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
NEAR_PRIVATE_KEY=ed25519:YOUR_PRIVATE_KEY_HERE

# ------------------------------------------------------------------------------
# Self.xyz Configuration (Identity Verification)
# ------------------------------------------------------------------------------
# Self.xyz network for identity verification (INDEPENDENT from NEAR network)
#
# "mainnet" = Real passports with OFAC sanctions checks
#   - Requires real passport scan via Self mobile app
#   - OFAC sanctions list is checked (only available on mainnet)
#   - Uses Celo mainnet for ZK proof verification
#
# "testnet" = Mock passports for testing (NO OFAC checks)
#   - Uses Self.xyz demo/mock passports
#   - No OFAC sanctions checking (not available on testnet)
#   - Uses Celo Alfajores testnet for ZK proof verification
#
# IMPORTANT: OFAC checks ONLY work on mainnet because the OFAC sanctions data
# is only published on the mainnet verifier contracts.
#
# Recommended configurations:
#   Development: NEAR testnet + Self mainnet (real passports with OFAC)
#   Testing:     NEAR testnet + Self testnet (mock passports, no OFAC)
#   Production:  NEAR mainnet + Self mainnet (real passports with OFAC)
NEXT_PUBLIC_SELF_NETWORK=mainnet

# Celo RPC URL for ZK proof verification (Self.xyz verifier contracts on Celo)
# Optional: Override with a custom endpoint
# Default (based on NEXT_PUBLIC_SELF_NETWORK):
#   Mainnet: https://forno.celo.org
#   Testnet: https://alfajores-forno.celo-testnet.org
# CELO_RPC_URL=https://forno.celo.org

# ==============================================================================
# Security Notes
# ==============================================================================
# - NEVER commit .env with real private keys to version control
# - .env is in .gitignore by default
# - Use Vercel environment variables or similar for production secrets
# - NEAR_PRIVATE_KEY should ONLY exist in server environment (Vercel secrets)
# - Backend wallet is the ONLY account authorized to write to the verification contract
# - Anyone can read from both contracts (verification status checks are public)
# - Governance transactions are signed by users with their own wallets
# ==============================================================================

# ------------------------------------------------------------------------------
# WalletConnect Configuration (Wallet Selector)
# ------------------------------------------------------------------------------
# Reown (formerly WalletConnect) project ID for wallet connections
# Get this from https://cloud.reown.com
# Required for full wallet support (HOT Wallet, MyNearWallet, Unity Wallet, etc.)
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID=

# ------------------------------------------------------------------------------
# UserJot Configuration (Feedback Widget)
# ------------------------------------------------------------------------------
# UserJot project ID for feedback collection widget
# Get this from your UserJot dashboard at https://userjot.com
# Leave empty to disable the feedback widget
NEXT_PUBLIC_USERJOT_PROJECT_ID=

# ------------------------------------------------------------------------------
# PostHog Analytics (Optional)
# ------------------------------------------------------------------------------
# PostHog project API key for product analytics, session replay, and feature flags
# Get this from your PostHog project settings at https://app.posthog.com
# Leave empty to disable analytics
NEXT_PUBLIC_POSTHOG_KEY=

# ==============================================================================
# Deployment Checklist
# ==============================================================================
# Before deploying to production:
#
# 1. Contract Deployment:
#    - Deploy contracts: pnpm build:contract:verification
#    - Initialize verification contract with backend wallet
#    - Initialize governance contract with verification contract address
#    - Fund backend wallet with at least 1 NEAR for gas fees
#
# 2. Environment Variables:
#    - Set NEXT_PUBLIC_NEAR_NETWORK=mainnet for production
#    - Set NEXT_PUBLIC_SELF_NETWORK=mainnet for real passports with OFAC
#    - Set all environment variables in Vercel/hosting dashboard
#
# 3. Network Configuration:
#    - NEAR and Self.xyz networks are INDEPENDENT
#    - You can use NEAR testnet + Self mainnet for development with real passports
#    - OFAC sanctions checks ONLY work with Self mainnet
#
# 4. Security:
#    - Never expose NEAR_PRIVATE_KEY to client
#    - Rotate keys if accidentally committed
#    - Use Vercel environment variables for secrets
#
# ==============================================================================
