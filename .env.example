# ==============================================================================
# MONOREPO STRUCTURE NOTE
# ==============================================================================
# This is a pnpm workspace monorepo with:
#   - apps/verified-accounts  - Identity verification app (port 3000)
#   - apps/citizens-house     - DAO governance app (port 3001)
#   - packages/ui             - Shared UI components
#   - packages/shared         - Shared utilities and integrations
#
# All environment variables are shared across apps from this root .env file.
# ==============================================================================

# ==============================================================================
# NEAR CITIZENS HOUSE - Environment Configuration Example
# ==============================================================================
# Copy this file to .env and fill in your actual values
# cp .env.example .env

# ------------------------------------------------------------------------------
# NEAR Network Configuration (Frontend - Public)
# ------------------------------------------------------------------------------
# Network: testnet or mainnet
NEXT_PUBLIC_NEAR_NETWORK=testnet

# NEAR RPC endpoint for blockchain interactions
# Testnet: https://rpc.testnet.near.org
# Mainnet: https://rpc.mainnet.near.org
NEXT_PUBLIC_NEAR_RPC_URL=https://rpc.testnet.near.org

# Contract ID (used in frontend for link generation - optional, has fallback)
# Example: v1.your-account.testnet
NEXT_PUBLIC_NEAR_CONTRACT_ID=v1.your-account.testnet

# ------------------------------------------------------------------------------
# NEAR Smart Contract (Backend - Server-Side Only)
# ------------------------------------------------------------------------------
# ⚠️ CRITICAL: These must NEVER be exposed to the client!
# Only the backend wallet can write to the contract

# Contract account ID where the verification contract is deployed
# This should match your deployed contract address
NEAR_CONTRACT_ID=v1.your-account.testnet

# Backend wallet that has write access to the contract
# This wallet must be set as backend_wallet during contract initialization
NEAR_ACCOUNT_ID=your-backend-wallet.testnet

# Backend wallet private key (ed25519 format)
# Get this from NEAR CLI or your wallet export
# Format: ed25519:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
NEAR_PRIVATE_KEY=ed25519:YOUR_PRIVATE_KEY_HERE

# ------------------------------------------------------------------------------
# Self.xyz Configuration
# ------------------------------------------------------------------------------
# Your app's verification endpoint URL
# For production: https://your-domain.com/api/verify
# For local development: Comment this out to use window.location.origin
NEXT_PUBLIC_SELF_ENDPOINT=https://your-app.vercel.app/api/verify

# Mock passport mode (for testing without real passports)
# Set to "true" for testnet testing with Self.xyz demo passports
# Set to "false" for production with real passport scans
SELF_USE_MOCK_PASSPORT=true

# Celo RPC for ZK proof verification (Self.xyz verifier contracts on Celo)
# Mainnet RPC (use with SELF_USE_MOCK_PASSPORT=false):
#   - https://1rpc.io/celo
#   - https://rpc.ankr.com/celo
#   - https://forno.celo.org
# Testnet RPC (use with SELF_USE_MOCK_PASSPORT=true):
#   - https://alfajores-forno.celo-testnet.org
CELO_RPC_URL=https://1rpc.io/celo

# ------------------------------------------------------------------------------
# Discourse Forum Integration (Optional)
# ------------------------------------------------------------------------------
# URL of your Discourse forum (leave empty if not using Discourse)
NEXT_PUBLIC_DISCOURSE_URL=https://forum.example.com

# ==============================================================================
# Security Notes
# ==============================================================================
# - NEVER commit .env with real private keys to version control
# - .env is in .gitignore by default
# - Use Vercel environment variables or similar for production secrets
# - NEAR_PRIVATE_KEY should ONLY exist in server environment (Vercel secrets)
# - Backend wallet is the ONLY account authorized to write to the contract
# - Anyone can read from the contract (verification status checks are public)
# ==============================================================================

# ==============================================================================
# Deployment Checklist
# ==============================================================================
# Before deploying to production:
#
# 1. Contract Deployment:
#    - Deploy contract: npm run build:contract && near contract deploy...
#    - Initialize with backend wallet: near contract call-function...
#    - Fund backend wallet with at least 1 NEAR for gas fees
#
# 2. Environment Variables:
#    - Update NEXT_PUBLIC_SELF_ENDPOINT to your production URL
#    - Set SELF_USE_MOCK_PASSPORT=false for production
#    - Use mainnet Celo RPC if SELF_USE_MOCK_PASSPORT=false
#    - Change NEXT_PUBLIC_NEAR_NETWORK to mainnet (if deploying to mainnet)
#    - Set all environment variables in Vercel/hosting dashboard
#
# 3. Security:
#    - Never expose NEAR_PRIVATE_KEY to client
#    - Rotate keys if accidentally committed
#    - Use Vercel environment variables for secrets
#
# ==============================================================================
