# ==============================================================================
# MONOREPO STRUCTURE NOTE
# ==============================================================================
# This is a pnpm workspace monorepo with:
#   - apps/verified-accounts  - Identity verification app (port 3000)
#   - apps/citizens-house     - DAO governance app (port 3001)
#   - packages/ui             - Shared UI components
#   - packages/shared         - Shared utilities and integrations
#
# All environment variables are shared across apps from this root .env file.
# ==============================================================================

# ==============================================================================
# NEAR CITIZENS HOUSE - Environment Configuration Example
# ==============================================================================
# Copy this file to .env and fill in your actual values
# cp .env.example .env

# ------------------------------------------------------------------------------
# NEAR Network Configuration (Frontend - Public)
# ------------------------------------------------------------------------------
# Network: testnet or mainnet
NEXT_PUBLIC_NEAR_NETWORK=testnet

# NEAR RPC endpoint for blockchain interactions
# Testnet: https://rpc.testnet.near.org
# Mainnet: https://rpc.mainnet.near.org
NEXT_PUBLIC_NEAR_RPC_URL=https://rpc.testnet.near.org

# Verification Contract ID (identity verification contract)
# Example: verification-v1.your-account.testnet
NEXT_PUBLIC_NEAR_VERIFICATION_CONTRACT=verification-v1.your-account.testnet

# Governance Contract ID (used for creating proposals and voting)
# This is needed by the frontend for client-side transaction signing
NEXT_PUBLIC_NEAR_GOVERNANCE_CONTRACT=governance-v1.your-account.testnet

# Sputnik DAO and Bridge
NEXT_PUBLIC_SPUTNIK_DAO_CONTRACT=sputnik-dao-v1.your-account.testnet
NEXT_PUBLIC_NEAR_BRIDGE_CONTRACT=sputnik-bridge-v1.your-account.testnet

# ------------------------------------------------------------------------------
# NEAR Backend Wallet (Server-Side Only)
# ------------------------------------------------------------------------------
# ⚠️ CRITICAL: These must NEVER be exposed to the client!
# Only the backend wallet can write to the verification contract

# Backend wallet that has write access to the verification contract
# This wallet must be set as backend_wallet during contract initialization
NEAR_ACCOUNT_ID=your-backend-wallet.testnet

# Backend wallet private key (ed25519 format)
# Get this from NEAR CLI or your wallet export
# Format: ed25519:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
NEAR_PRIVATE_KEY=ed25519:YOUR_PRIVATE_KEY_HERE

# ------------------------------------------------------------------------------
# Self.xyz Configuration
# ------------------------------------------------------------------------------
# Your app's verification endpoint URL
# For production: https://your-domain.com/api/verify
# For local development: Comment this out to use window.location.origin
NEXT_PUBLIC_SELF_ENDPOINT=https://your-app.vercel.app/api/verify

# Mock passport mode (for testing without real passports)
# Set to "true" for testnet testing with Self.xyz demo passports
# Set to "false" for production with real passport scans
SELF_USE_MOCK_PASSPORT=true

# Celo RPC endpoints for ZK proof verification (Self.xyz verifier contracts on Celo)
# The system automatically rotates through multiple free public RPC endpoints for high reliability
#
# Built-in endpoints (used by default):
#   Mainnet: 1rpc.io, ankr.com, forno.celo.org, blastapi.io, allthatnode.com
#   Testnet: alfajores-forno.celo-testnet.org
#
# Optional: Override with comma-separated custom endpoints
# Example: CELO_RPC_URLS=https://rpc1.example.com,https://rpc2.example.com
# Leave commented to use built-in endpoints with automatic failover
# CELO_RPC_URLS=https://1rpc.io/celo,https://rpc.ankr.com/celo,https://forno.celo.org

# ==============================================================================
# Security Notes
# ==============================================================================
# - NEVER commit .env with real private keys to version control
# - .env is in .gitignore by default
# - Use Vercel environment variables or similar for production secrets
# - NEAR_PRIVATE_KEY should ONLY exist in server environment (Vercel secrets)
# - Backend wallet is the ONLY account authorized to write to the verification contract
# - Anyone can read from both contracts (verification status checks are public)
# - Governance transactions are signed by users with their own wallets
# ==============================================================================

# ==============================================================================
# Deployment Checklist
# ==============================================================================
# Before deploying to production:
#
# 1. Contract Deployment:
#    - Deploy contracts: pnpm build:contracts:all
#    - Initialize verification contract with backend wallet
#    - Initialize governance contract with verification contract address
#    - Fund backend wallet with at least 1 NEAR for gas fees
#
# 2. Environment Variables:
#    - Update NEXT_PUBLIC_SELF_ENDPOINT to your production URL
#    - Set SELF_USE_MOCK_PASSPORT=false for production
#    - Use mainnet Celo RPC if SELF_USE_MOCK_PASSPORT=false
#    - Change NEXT_PUBLIC_NEAR_NETWORK to mainnet (if deploying to mainnet)
#    - Set all environment variables in Vercel/hosting dashboard
#
# 3. Security:
#    - Never expose NEAR_PRIVATE_KEY to client
#    - Rotate keys if accidentally committed
#    - Use Vercel environment variables for secrets
#
# ==============================================================================
