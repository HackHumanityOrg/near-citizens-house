{"uid":"645af9492d5d4970","name":"test_insufficient_contract_balance_rejected","fullName":"integration::security_tests::test_insufficient_contract_balance_rejected","historyId":"f1757ca73bb753869bb9b9d4b15d65dc","time":{"start":1767563422866,"stop":1767563426940,"duration":4074},"description":"Verifies that verification storage fails when contract has insufficient available balance. The NEAR protocol enforces storage costs at transaction commit time, preventing state changes that would exceed the account's balance. This test dynamically calculates the drain amount based on actual storage usage to ensure reliability.","descriptionHtml":"<p>Verifies that verification storage fails when contract has insufficient available balance. The NEAR protocol enforces storage costs at transaction commit time, preventing state changes that would exceed the account's balance. This test dynamically calculates the drain amount based on actual storage usage to ensure reliability.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"Verifies that verification storage fails when contract has insufficient available balance. The NEAR protocol enforces storage costs at transaction commit time, preventing state changes that would exceed the account's balance. This test dynamically calculates the drain amount based on actual storage usage to ensure reliability.","status":"passed","steps":[{"name":"Verify contract deployment succeeds","time":{"start":1767563424921,"stop":1767563424921,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Verify contract initialization succeeds","time":{"start":1767563425425,"stop":1767563425425,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Calculate and verify drain parameters","time":{"start":1767563425426,"stop":1767563425426,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Verify balance drain succeeds","time":{"start":1767563425928,"stop":1767563425928,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Verify store_verification fails due to insufficient balance","time":{"start":1767563426937,"stop":1767563426937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Verify no verification was stored (atomic rollback)","time":{"start":1767563426939,"stop":1767563426939,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":6,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"language","value":"rust"},{"name":"framework","value":"allure-rs"},{"name":"host","value":"ip-172-31-79-175"},{"name":"thread","value":"ThreadId(29)"},{"name":"tag","value":"integration"},{"name":"tag","value":"security"},{"name":"tag","value":"storage"},{"name":"tag","value":"economics"},{"name":"severity","value":"critical"},{"name":"subSuite","value":"Security"},{"name":"suite","value":"Verified Accounts Integration Tests"},{"name":"parentSuite","value":"Near Citizens House"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[],"history":{"statistic":{"failed":8,"broken":0,"skipped":0,"passed":1,"unknown":0,"total":9},"items":[{"uid":"ac2adf21a95ef31b","reportUrl":"https://HackHumanityOrg.github.io/near-citizens-house/78/#testresult/ac2adf21a95ef31b","status":"failed","statusDetails":"Could not find WASM file. Please build the contract first with `cargo near build`: Os { code: 2, kind: NotFound, message: \"No such file or directory\" }","time":{"start":1767554759598,"stop":1767554760136,"duration":538}},{"uid":"ab7b91ea382d217a","reportUrl":"https://HackHumanityOrg.github.io/near-citizens-house/77/#testresult/ab7b91ea382d217a","status":"failed","statusDetails":"Could not find WASM file. Please build the contract first with `cargo near build`: Os { code: 2, kind: NotFound, message: \"No such file or directory\" }","time":{"start":1767550931738,"stop":1767550933343,"duration":1605}},{"uid":"a24071e841bfbf34","reportUrl":"https://HackHumanityOrg.github.io/near-citizens-house/76/#testresult/a24071e841bfbf34","status":"failed","statusDetails":"Could not find WASM file. Please build the contract first with `cargo near build`: Os { code: 2, kind: NotFound, message: \"No such file or directory\" }","time":{"start":1767548307538,"stop":1767548308614,"duration":1076}},{"uid":"4730612692ce1f75","reportUrl":"https://HackHumanityOrg.github.io/near-citizens-house/75/#testresult/4730612692ce1f75","status":"failed","statusDetails":"Could not find WASM file. Please build the contract first with `cargo near build`: Os { code: 2, kind: NotFound, message: \"No such file or directory\" }","time":{"start":1767546278340,"stop":1767546279415,"duration":1075}},{"uid":"75bf313d521b5266","reportUrl":"https://HackHumanityOrg.github.io/near-citizens-house/74/#testresult/75bf313d521b5266","status":"failed","statusDetails":"Could not find WASM file. Please build the contract first with `cargo near build`: Os { code: 2, kind: NotFound, message: \"No such file or directory\" }","time":{"start":1767542059932,"stop":1767542060571,"duration":639}},{"uid":"e55b7e1d3a050120","reportUrl":"https://HackHumanityOrg.github.io/near-citizens-house/73/#testresult/e55b7e1d3a050120","status":"failed","statusDetails":"Could not find WASM file. Please build the contract first with `cargo near build`: Os { code: 2, kind: NotFound, message: \"No such file or directory\" }","time":{"start":1767541317652,"stop":1767541318274,"duration":622}},{"uid":"d1bab7d9347b93d8","reportUrl":"https://HackHumanityOrg.github.io/near-citizens-house/72/#testresult/d1bab7d9347b93d8","status":"failed","statusDetails":"Could not find WASM file. Please build the contract first with `cargo near build`: Os { code: 2, kind: NotFound, message: \"No such file or directory\" }","time":{"start":1767540491366,"stop":1767540491981,"duration":615}},{"uid":"ad7f23460820bcc1","reportUrl":"https://HackHumanityOrg.github.io/near-citizens-house/71/#testresult/ad7f23460820bcc1","status":"failed","statusDetails":"Could not find WASM file. Please build the contract first with `cargo near build`: Os { code: 2, kind: NotFound, message: \"No such file or directory\" }","time":{"start":1767539533457,"stop":1767539534107,"duration":650}}]},"tags":["security","economics","integration","storage"]},"source":"645af9492d5d4970.json","parameterValues":[]}